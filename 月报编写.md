1. 构建ccm1002bc 项目 fpag阶段keil5  base工程
   * 通过fpga版本协助定位了两个问题：
     * 最终定位至fpga rom区域未加密的问题。
     * 最终定位至sram ecc错误问题
   * 通过软件rom程序处理，解决了两个问题
     * rom启动软件写ram区域的方式解决ram ecc错误问题
     * 在rom中构建软件中断向量表，实现软件的二级跳转解决comtex m0 没有vocter中断向量表重定位寄存器的问题
   * 根据ccm1002bc的中断向量表和M0核的nvic硬件特性，重写了软件中断向量表和NVIC 处理函数。
2. 完成ccm1002bc  LinFlexD 和 CanFD 模块的FPGA case 验证
   * 阅读ccm1002bc 手册，完成LinflexD 和CanFD的传输、发送、接收、中断的fpga case 覆盖。
   * 定位到两个软件使用注意事项：
     * LinFlexD 使用rxdma 必须使能txdma 且用txdma 发送header，否则无法使用dma。
     * canfd tx buff的写入必须要32位四字节对齐写入，否则会hard fault。
3. 完成ccm1002bc bootloader的设计及开发
   * 任务进行中：完成lin、can 底层接口。完成Lin 接收上位机数据跳转至 RAM 执行流程。







任务1：

1. 通过 FPGA case 协助定位到 FPGA ROM 区域未加密 和 SRAM ECC 错误问题。
2. 采用 ROM 启动软件写 RAM 区域的方式解决了 RAM ECC 错误问题。
3. 在 ROM 中构建软件中断向量表，实现了软件的二级跳转，解决了 Comtex M0 缺少 Vocter 中断向量表重定位寄存器的问题。
4. 根据 ccm1002bc 的中断向量表和 M0 核的 NVIC 硬件特性，重写了软件中断向量表和 NVIC 处理函数。

任务2

1. 阅读 ccm1002bc 手册，成功完成 LinFlexD 和 CanFD 的传输、发送、接收、中断的 FPGA Case 覆盖。
2. 定位到软件注意事项：LinFlexD 使用 RXDMA 必须使能 TXDMA 且用 TXDMA 发送 header，否则无法使用 RXDMA 。
3. 定位到软件注意事项：CanFD TX Buff 的写入必须要 32 位四字节对齐写入，否则可能导致 hard fault。

任务3

​	任务进行中：已完成 Lin 和 Can 底层接口，成功实现 Lin 接收上位机数据跳转至 RAM 执行的流程。





## 12月

任务1：

1. 根据bootrom需求，完成 bootrom 的设计。在项目主管的帮助下确认bootrom方案。落实设计资料文档。
2. 根据bootrom的设计方案，完成bootrom 代码开发。
3. 结合bootrom功能，设计bootrom验证方案。结合验证出现的问题，完成bootrom代码迭代，实现bootrom的定版。
4. 完成CCM1002bc Coremark 和  Dhrystone 测试。
5. 协助同事定位FPGA版本问题和CP test 问题。

任务2

1. 进行JNS3204 擦除编程Flashmain block对 info区域的实验，协助同事定位到info 区域的问题依旧是擦除编程Flash中por 造成的影响。

任务3

​	由于新的工作安排，任务3未开展，转而协助定位CCM3310S-lE的MRAM读写问题。

协助定位CCM3310S-LE mram 写入问题：

工时：2.0天

完成情况：搭建CCM3310S-LE trim环境，增加trim 信号中 wait等待时间，进行mram  读写实验，发现无法写入。

​	

## 1月

CCL1100B：

1. 在dz100和dz300完成 lin 和can transceiver的功能测试包括通讯、错误处理、唤醒、rxonly&loop 等功能。
2. 验证CCL100B  lin 和can transceiver的数字逻辑功能，构建软件case，定位到多个数字逻辑bug，协助DE问题复现和分析。
3. 根据DE的问题表格，设计软件case，在dz100和dz300上测试，回复DE实际验证结果。

## 2月

CCL1100B：

1. 验证CCL100B  lin 和can transceiver的数字逻辑功能，构建软件case，验证通讯、错误处理、唤醒、rxonly&loop 等功能。

2. 针对can唤醒最低有效时间问题，结合应用场景，给出判断依据，完成FPGA版本的补充验证。

CCR4001：

	1. 阅读CRV4H和riscv手册，设计CRV4H验证计划，完成coremark和dhrytone的跑分测试。
 	2. 对riscv 软件IDE，发现了使用bug并已同步给相关同事。

计划：

CCR4001：

	1. 完成CCR4001 base 工程的搭建。3/5
 	2. 完成can、otp、ahbram ip的验证。3/13
 	3. 学习NPU相关知识，设计NPU软件验证计划，进行NPU的功能和数据通路的验证。3/31

CCM1002BC

​	1. 完成芯片EVB阶段的boot、can、lin的验证。3/10



### 3月

CCM1002BC:

1. 完成芯片EVB阶段的bootrom、can、lin的验证。
2. 协助同事定位bootrom 中断问题。

CCR4001S:

1. 在核心版CRV4H上搭建base工程和中断处理框架，交付给同事进行后续CCR4001S上base 工程搭建。
2. 完成CCR4001S 的dhrystone 和coremark 性能测试。
3. 学习CCR4001S NPU 知识，完成letnet IDE 软仿验证，整理网络部署和NPU验证思路。
4. 在CCR4001S 上成功移植FreeRtos,同时适配中断、串口、浮点处理等功能。完成芯原VIPLite 需要的系统平台的搭建。积极协助应用部门的环境平台搭建，协助推进应用层的网络部署工作。
5. FPGA环境下跑通 NPU conv1*1 算子。

##### 计划

CCM1002BC：

1. 完成bootrom 的修改和验证工作。

CCR4001S：

1. 在FPGA平台上验证已有的NPU DV case验证。

2. 在FPGA平台上，完成NPU寄存器遍历、支持算子遍历、数据通路、中断的验证。

3. 在FPGA平台上，完成常见小网络的部署和性能测试。

4. 完成CCR4001S can ip的验证。




加班申请：

1. 在FPGA平台上验证NPU 5个卷积功能算子、2个图像滤波算子case。
2. 验证NPU 在FreeRtos 的中断通路。
3. 阅读芯愿新realse 的NPU driver源码和相关使用手册，排查现在Freertos 适配时的mutex 申请错误和signal 循环等待的问题。





* 1002BC：完成**FPGA阶段和EVB阶段 lin can** 控制器的验证、**bootrom**的开发及验证。基于1100B 数模混合芯片，完成lin/can 收发器ip 数字部分的验证。
* CCR4001S：完成CRV4H (riscv core)的coremark 和dhrystone性能测试、中断验证、浮点数和dsp 指令验证、完成NPU Case的验证。在CCR4001S 上成功移植Freertos，同时适配中断、串口、浮点等功能。成功适配芯愿提供的NPU Freertos 接口，且利用芯原提供的工具链，完成resnet 的部署和验证，完成pytorch 算子的导出和验证。
  * 初次在SPI FLASH 上调试，发现没有运行成功。在DDR 能够运行的文件，将代码段编译到Flash 上运行。首先确认了是否是XIP的问题，其次修改link文件，做data 数据段的重定位还是不行。追查发现，是在FPGA环境下，CPU 运行频率和 Flsah 的 CLK 频率都比较低，而Freertos的 mtime 中断频率较高，由此导致了频繁进入mtime 中断但是不能执行用户代码。修改mtime 中断时间后问题得到解决。此外，还进行风险性评估，提供elf  给DV 验证仿真，由此判断真实场景下，芯片的处理能力。此外，NPU直接搬运的过程中 NBG 文件和权重文件都有4KB 对齐的要求，通过修改link 脚本和定义section 解决此问题。也可以用__attribute__ ((aligned (0x1000))) 解决此问题。  

* 还有一个问题是m0 核没有中断向量表，构建了一个不定位的向量表来实现的内容。





真正想做的，还是能够从系统级层面上holdon 一个产品（软件系统）能够根据具体的问题给出软件的解法。明确数字信息和指标。